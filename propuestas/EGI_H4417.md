# #EGI #H4417 Vista de trazabilidad de pedidos

Los objetivos de este proyecto son:
+ Disponer de unas vistas precargadas para facilitar el acceso a los datos a analizar en Power BI

## Propuesta realizada a petición de:
Guillermo

## Estructura

### Base de datos
Añadiremos a la base datos las siguientes vistas:

+ bi_traza_pedidos
    + codigo pedido > mapeado a > pedidoscli.codigo
    + fecha pedido > mapeado a > pedidoscli.fecha
    + codigo albarán > mapeado a > albaranescli.codigo
    + fecha albarán > mapeado a > albaranescli.fecha
    + codigo factura > mapeado a > facturascli.codigo
    + fecha factura > mapeado a > facturascli.fecha

    ```sql
    select p.codigo, p.fecha, a.codigo, a.fecha, f.codigo, f.fecha from pedidoscli p INNER JOIN lineaspedidoscli lp ON p.idpedido = lp.idpedido LEFT OUTER JOIN lineasalbaranescli la on lp.idlinea = la.idlineapedido LEFT OUTER JOIN albaranescli a ON la.idalbaran = a.idalbaran LEFT OUTER JOIN facturascli f on a.idfactura = f.idfactura where 1 = 1 group by p.codigo, p.fecha, a.codigo, a.fecha, f.codigo, f.fecha, p.idpedido, la.idalbaran;
    ```

+ bi_compras
    + [SEGUIR]

## Tareas
* #EGI #H4417 Vista de trazabilidad de pedidos

## Tests
+ Pedidos sin albaranes aparecen
+ Pedidos con un albarán aparecen
+ Pedidos con más un albarán aparecen
+ Pedidos con albaranes facturados aparecen


## Manual
No es necesario manual

## Asistencia a puesta en marcha
No es necesaria.

## Presupuesto
* #EGI #H4417 Vista de trazabilidad de pedidos. 94,83€
