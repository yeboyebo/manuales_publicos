# #GUA #H4507 Sistema SGA con control de cajas en inventarios

Los objetivos de este proyecto son:
+ Realizar una gestión de cajas de pedido desde su creación hasta su envío
+ Tener el cuenta las cajas en los inventarios

## Propuesta realizada a petición de:
Almudena

## Estructura

### Webapp / Creación de cajas

Crearemos una nueva entidad Cajas con los siguientes campos:
    + Código (ver codificación estándar de cajas SGA)

Operativa:
+ Vamos Menú Packing

+ El usuario crea una nueva caja pulsando Nueva caja
    + Se muestra el formulario de carga de caja preparado para introducir barcodes

+ Para cada producto a introducir en la caja
    + Leemos el código de barras de un producto
    + Indicamos la cantidad y aceptamos
        + El producto se incluye en la caja

+ Pulsamos el botón Cerrar caja
    + Pasamos a la pantalla de packing sin caja seleccionada

¿Asociar la caja a un pedido?

### Webapp / Modificar contenido de cajas
+ Vamos al menú packing
+ Seleccionamos la caja
    + Se muestra la pantalla de edición de caja, que permite:
        + Añadir más productos a la caja
        + Quitar productos de la caja
        + Modificar la cantidad de un producto en la caja


### Webapp / Dar salida a cajas (en servicio de pedidos)
+ A la hora de servir un pedido, en la lectura de productos, será posible leer el código de la caja, de forma que los movimientos de salida vaciarán su contenido.


### ERP / Inventario
Se podrá indicar en el inventario los prefijos de referencias a cargar

### Webapp / Inventario
Inventario
    + Cantidad (suma de recuentos)
    - Recuentos
        + Zona o caja
        + Cantidad

+ Vamos a inventarios y pulsamos Nuevo inventario
    + Se abre el formulario de alta de inventario

+ Introducimos el almacén y los prefijos a cargar y aceptamos
    + Se crea un nuevo inventario para la fecha actual y el almacén seleccionado.
    + El inventario está por defecto en la zona de recuento general del almacén

+ Vamos introduciendo códigos y cantidades
    + Se van generando lecturas asociadas a la zona de conteo y se van sumando a la línea de regularización del inventario
    
+ Si leemos el código de una caja:
    + Para cada artículo de la caja que cumple el criteria del inventario, se genera una nueva zona de recuento que es la caja, y las correspondientes lecturas que incrementan las cantidades leídas en la zona general.

## Precondiciones

## Notas de desarrollo
Movimientos de stock dobles para cada línea de producto en caja?? > Movimiento indica ubicación, lote y caja?

El inventario tiene un criteria con el fitro sobre artículos. En esta caso referencia like 'pepe%' or referencia like 'juan%'...

Etiquetadora:

```js
Use

--kiosk --kiosk-printing <application_URL>
Create a new chrome.exe shortcut Add –kiosk –kiosk-printing flags to the chrome.exe target shortcut Add the url of the kiosk as the starting page in Chrome settings (or replace chrome.exe with “chrome.exe –kiosk http:// [enter URL here]”) Drag the shortcut into the startup folder so it loads automatically.
```

### Agregado transferencia de stock

+ id
+ fecha / hora
+ usuario
+ almacén origen
+ almacén destino
+ lineas
    + id
    + sku
    + lote
    + cantidad
    + ubicación origen
    + ubicación destino
    + caja origen
    + caja destino

### Pantalla de salida de pedido (albaranes)
Lector de caja > introduce todos los posibles movimientos de salida en función de la cantidad pendiente de las líneas de pedido

+ Líneas de pedido
    + SKU
    + Cantidad pendiente
        + Salidas por línea
            + Cantidad de salida
            + Lote
            + Caja

+ Cajas usadas
    + Cantidades restantes

### Caso de uso entrada en caja

Parámetros de entrada
+ Almacén
+ Ubicación origen
+ Ubicación destino
+ Caja origen
+ Caja destino
+ Lectura SKU

Acciones: Localiza el SKU y crea una transferencia de stock

### Caso de uso mover caja de ubicación / almacén
Sería crear una transferencia en base a la caja con todas las líneas asociadas a los materiales contenidos, con distint o almacén / ubicación pero mismo código de caja

### Ubicaciones
Ubicaciones
+ Id ubicación
+ Id Stock

StockUbicación
+ Id
+ IdStock
+ IdUbicacion
+ Cantidades

Regularizaciones de stock: Incrementales con ubicación. El inventario pasa a ser ajuste.

Movistock
+ Id ubicación


## Tareas
* #GUA #H4507 Sistema SGA. Webapp / Creación de cajas
* #GUA #H4507 Sistema SGA. Webapp / Modificar contenido de cajas
* #GUA #H4507 Sistema SGA. Webapp / Dar salida a cajas (en servicio de pedidos)
* #GUA #H4507 Sistema SGA. ERP / Inventario
* #GUA #H4507 Sistema SGA. Webapp / Inventario


## Manual
El manual describirá los nuevos procesos aquí descritos

## Asistencia a puesta en marcha
Llamaremos para realizar con vosotros los procesos por primera vez